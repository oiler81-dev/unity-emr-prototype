<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UnityEMR ‚Ä¢ Prototype</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body class="theme-light">
  <div class="app" id="app">

    <!-- LEFT: Global Navigation -->
    <aside class="nav" aria-label="Global Navigation">
      <div class="brand">
        <div class="brandMark" aria-hidden="true">U</div>
        <div class="brandText">
          <div class="brandTitle">UnityEMR</div>
          <div class="brandSub">Internal Prototype</div>
        </div>
      </div>

      <div class="navGroup">
        <button class="navItem isActive" id="navToday" data-route="today">
          <span class="navIcon">üìÖ</span>
          <span class="navLabel">Today</span>
        </button>
        <button class="navItem" id="navChart" data-route="chart">
          <span class="navIcon">üßë‚Äç‚öïÔ∏è</span>
          <span class="navLabel">Chart</span>
        </button>
        <button class="navItem" id="navEncounter" data-route="encounter">
          <span class="navIcon">üìù</span>
          <span class="navLabel">Encounter</span>
        </button>
        <button class="navItem" id="navImports" data-route="imports">
          <span class="navIcon">‚¨ÜÔ∏è</span>
          <span class="navLabel">Imports</span>
          <span class="pillTag" id="adminTag">Admin</span>
        </button>
      </div>

      <div class="navFooter">
        <div class="userCard" id="userCard" role="button" tabindex="0">
          <div class="userAvatar" id="userAvatar">NP</div>
          <div class="userMeta">
            <div class="userName" id="userName">Not signed in</div>
            <div class="userRole" id="userRole">‚Äî</div>
          </div>
        </div>

        <div class="navFooterActions">
          <button class="btn btnGhost" id="themeBtn">Theme</button>
          <button class="btn btnGhost" id="signOutBtn">Sign out</button>
        </div>

        <div class="hint">
          <div><kbd>Ctrl</kbd>/<kbd>‚åò</kbd> + <kbd>K</kbd> Patient Search</div>
          <div><kbd>G</kbd> then <kbd>T</kbd>/<kbd>C</kbd>/<kbd>E</kbd></div>
        </div>
      </div>
    </aside>

    <!-- RIGHT: Main -->
    <main class="main" aria-label="Workspace">
      <header class="topbar">
        <div class="topbarLeft">
          <div class="title" id="pageTitle">Today</div>
          <div class="subtitle" id="pageSubtitle">Schedule ‚Ä¢ Unity MSK</div>
        </div>
        <div class="topbarRight">
          <button class="btn btnSecondary" id="openSearchBtn" title="Ctrl/‚åò+K">Search Patients</button>
          <button class="btn btnSecondary" id="syncBtn">CSV Sync: <span class="syncDot" id="syncDot"></span><span id="syncText">Idle</span></button>
        </div>
      </header>

      <div class="content">
        <!-- TODAY ROUTE -->
        <section class="route isActive" id="routeToday" aria-label="Today schedule">
          <div class="panel">
            <div class="panelHead">
              <div class="panelTitle">Today‚Äôs Schedule</div>
              <div class="panelHeadRight">
                <button class="btn btnGhost" id="densityBtn">Density: <span id="densityLabel">Comfort</span></button>
              </div>
            </div>

            <div class="toolbar">
              <div class="seg" role="tablist" aria-label="Schedule view">
                <button class="segBtn isActive" id="viewListBtn" data-view="list">List</button>
                <button class="segBtn" id="viewProviderBtn" data-view="provider">By Provider</button>
              </div>

              <div class="filters">
                <label class="filter">
                  <span>Status</span>
                  <select id="statusFilter">
                    <option value="all">All</option>
                    <option value="checkedin">Checked In</option>
                    <option value="arrived">Arrived</option>
                    <option value="roomed">Roomed</option>
                    <option value="complete">Complete</option>
                    <option value="noshow">No Show</option>
                  </select>
                </label>

                <label class="filter">
                  <span>Provider</span>
                  <select id="providerFilter"></select>
                </label>
              </div>
            </div>

            <div class="groupHead">
              <div class="groupTitle" id="groupTitle">All Providers</div>
              <div class="groupSub" id="groupSub">‚Äî</div>
            </div>

            <div class="schedule" id="scheduleList"></div>
          </div>
        </section>

        <!-- CHART ROUTE (placeholder) -->
        <section class="route" id="routeChart" aria-label="Chart">
          <div class="panel">
            <div class="panelHead">
              <div>
                <div class="panelTitle">Chart</div>
                <div class="panelSub">Prototype placeholder ‚Ä¢ Select a patient from Search</div>
              </div>
            </div>
            <div class="panelBody">
              <div class="empty">No patient selected.</div>
            </div>
          </div>
        </section>

        <!-- ENCOUNTER ROUTE (placeholder) -->
        <section class="route" id="routeEncounter" aria-label="Encounter">
          <div class="panel">
            <div class="panelHead">
              <div>
                <div class="panelTitle">Encounter</div>
                <div class="panelSub">Prototype placeholder ‚Ä¢ Open from Today/Chart later</div>
              </div>
            </div>
            <div class="panelBody">
              <div class="empty">No encounter loaded.</div>
            </div>
          </div>
        </section>

        <!-- IMPORTS ROUTE (admin gated placeholder) -->
        <section class="route" id="routeImports" aria-label="Imports">
          <div class="panel">
            <div class="panelHead">
              <div>
                <div class="panelTitle">Admin ‚Ä¢ Imports</div>
                <div class="panelSub">Prototype placeholder ‚Ä¢ Admin only</div>
              </div>
            </div>
            <div class="panelBody">
              <div class="empty">No import run yet.</div>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- LOGIN OVERLAY -->
    <div class="overlay isOpen" id="loginOverlay" aria-label="Login">
      <div class="loginCard" role="dialog" aria-modal="true">
        <div class="loginTitle">UnityEMR</div>
        <div class="loginSub">Mock SSO ‚Ä¢ Role-based prototype</div>

        <label class="field">
          <span>Sign in as</span>
          <select id="loginRole">
            <option value="provider" selected>Provider</option>
            <option value="ma">Medical Assistant</option>
            <option value="admin">Admin</option>
          </select>
        </label>

        <label class="field">
          <span>Display name</span>
          <input type="text" id="loginName" value="Nestor Perez" />
        </label>

        <button class="btn btnPrimary full" id="loginBtn">Continue</button>

        <div class="micro">Prototype only ‚Ä¢ No PHI ‚Ä¢ Static data</div>
      </div>
    </div>

    <!-- SEARCH MODAL -->
    <div class="modalBackdrop" id="searchModal" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-label="Patient Search">
        <div class="modalHead">
          <div class="modalTitle">Patient Search</div>
          <button class="btn btnGhost" id="closeSearchBtn">Close</button>
        </div>
        <div class="modalBody">
          <label class="field">
            <span>Search</span>
            <input id="searchInput" type="text" placeholder="Name, MRN (prototype)" autocomplete="off" />
          </label>
          <div class="results" id="searchResults"></div>
        </div>
        <div class="modalFoot">
          <div class="micro">Tip: <kbd>‚Üë</kbd>/<kbd>‚Üì</kbd> then <kbd>Enter</kbd></div>
        </div>
      </div>
    </div>

    <!-- TOASTS -->
    <div class="toasts" id="toasts" aria-live="polite" aria-relevant="additions"></div>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>
